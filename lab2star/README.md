### –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ2 (—Å–æ –∑–≤–µ–∑–¥–æ—á–∫–æ–π)

---

## **1. –ü–ª–æ—Ö–æ–π Docker Compose —Ñ–∞–π–ª**
```yaml
version: '3'

services:
  app:
    image: node:latest
    ports:
      - "80:80"
    volumes:
      - .:/app
    working_dir: /app
    command: npm start

  db:
    image: postgres:latest
    environment:
      POSTGRES_USER: admin
      POSTGRES_PASSWORD: password
```

---

## **2. –•–æ—Ä–æ—à–∏–π Docker Compose —Ñ–∞–π–ª**
```yaml
version: '3.8'

services:
  app:
    image: node:16-alpine
    ports:
      - "8080:8080"
    volumes:
      - ./src:/app:ro
    working_dir: /app
    command: ["node", "server.js"]
    environment:
      - NODE_ENV=production
    networks:
      - app_network

  db:
    image: postgres:14-alpine
    environment:
      POSTGRES_USER: appuser
      POSTGRES_PASSWORD: securepassword
      POSTGRES_DB: appdb
    volumes:
      - db-data:/var/lib/postgresql/data
    networks:
      - db_network

networks:
  app_network:
  db_network:

volumes:
  db-data:
```

---

## **3. –û–ø–∏—Å–∞–Ω–∏–µ –ø–ª–æ—Ö–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫ –∏ –∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π**

### **–ü–ª–æ—Ö–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏ –æ–±—Ä–∞–∑–æ–≤ (latest)**
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `latest` –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏, —Ç–∞–∫ –∫–∞–∫ –æ–±—Ä–∞–∑ –º–æ–∂–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å—Å—è –∏ –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–æ–ª–æ–º–∫–µ.
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –£–∫–∞–∑–∞–Ω—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –æ–±—Ä–∞–∑–æ–≤ (`node:16-alpine` –∏ `postgres:14-alpine`) –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç–∏ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏.

### **–ü–ª–æ—Ö–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ 2: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Å–µ—Ç–µ–π**
- **–ü—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, —á—Ç–æ —Å–æ–∑–¥–∞–µ—Ç –Ω–µ–Ω—É–∂–Ω—É—é –≤–∏–¥–∏–º–æ—Å—Ç—å –º–µ–∂–¥—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ –∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∏—Å–∫ —É—Ç–µ—á–µ–∫ –¥–∞–Ω–Ω—ã—Ö.
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–≤–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–µ—Ç–∏ (`app_network` –∏ `db_network`) –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–æ–≤.

### **–ü–ª–æ—Ö–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–∞—Ä–æ–ª–µ–π –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –≤ –∫–æ–¥–µ**
- **–ü—Ä–æ–±–ª–µ–º–∞:** –•—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ –∏ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —É—Ç–µ—á–∫–µ –¥–∞–Ω–Ω—ã—Ö.
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –ü–∞—Ä–æ–ª—å –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ –±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π, –∞ —Ç–∞–∫–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

### **–ü–ª–æ—Ö–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ 4: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä**
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `volumes: - .:/app` –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–æ–ø–∞–¥–∞–Ω–∏—é –Ω–µ–Ω—É–∂–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –£–∫–∞–∑–∞–Ω –º–æ–Ω—Ç–∏—Ä—É–µ–º—ã–π –∫–∞—Ç–∞–ª–æ–≥ —Å —Ñ–ª–∞–≥–æ–º `:ro` (—Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è) –∏ –¥–æ–±–∞–≤–ª–µ–Ω `.dockerignore`.

### **–ü–ª–æ—Ö–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ 5: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∂–∏–º–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ç–æ–º–∞–º**
- **–ü—Ä–æ–±–ª–µ–º–∞:** –¢–æ–º –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ –ø–ª–æ—Ö–æ–º –ø—Ä–∏–º–µ—Ä–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, —á—Ç–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –ø–æ—Ç–µ—Ä–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω —Ç–æ–º `db-data` —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏.

---

## **4. –ò–∑–æ–ª—è—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ –ø–æ —Å–µ—Ç–∏**

### **–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–æ–ª—è—Ü–∏–∏**
- –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–≤–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–µ—Ç–∏: `app_network` –∏ `db_network`.
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã —Ç–æ–ª—å–∫–æ –∫ —Ç–µ–º —Å–µ—Ç—è–º, –∫–æ—Ç–æ—Ä—ã–µ –∏–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã:
  - `app` –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ `app_network`.
  - `db` –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ `db_network`.

### **–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã –∏–∑–æ–ª—è—Ü–∏–∏**
- –°–µ—Ç–∏ –≤ Docker Compose —Å–æ–∑–¥–∞—é—Ç—Å—è –∫–∞–∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏ —É—Ä–æ–≤–Ω—è 2 (Bridge).
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –Ω–∞—Ö–æ–¥—è—â–∏–µ—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö —Å–µ—Ç—è—Ö, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ –º–æ–≥—É—Ç –≤–∏–¥–µ—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å.
- –≠—Ç–æ –ø–æ–≤—ã—à–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—è –Ω–µ–Ω—É–∂–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏.

### **–ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞ –∏–∑–æ–ª—è—Ü–∏–∏**
1. –ü–æ–¥–Ω–∏–º–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
   ```bash
   docker-compose up -d
   ```
2. –ó–∞—Ö–æ–¥–∏–º –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä app:
   ```bash
   docker exec -it <app_container_id> sh
   ```
3. –ü—ã—Ç–∞–µ–º—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å ping –¥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ db:
   ```bash
   ping db
   ```
4. –†–µ–∑—É–ª—å—Ç–∞—Ç: –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –≤ –¥—Ä—É–≥–æ–π —Å–µ—Ç–∏.

---

### **–ò—Ç–æ–≥–∏ —Ä–∞–±–æ—Ç—ã**
–ú—ã —Å–æ–∑–¥–∞–ª–∏ –¥–≤–∞ Docker Compose —Ñ–∞–π–ª–∞: "–ø–ª–æ—Ö–æ–π" —Å –æ—à–∏–±–∫–∞–º–∏ –∏ "—Ö–æ—Ä–æ—à–∏–π" —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏. –†–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Å–ø–æ—Å–æ–±—ã –∏—Ö —Ä–µ—à–µ–Ω–∏—è, –æ–±–µ—Å–ø–µ—á–∏–≤ –∏–∑–æ–ª—è—Ü–∏—é —Å–µ—Ä–≤–∏—Å–æ–≤ –ø–æ —Å–µ—Ç–∏ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã. üöÄüéâ

